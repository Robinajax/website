<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>A College Student's Response to the FPGA Design Process</title>
  <meta name="description" content="I recently had the opportunity to help a college student on his end of termproject.  The student's project sounded like a lot of fun to me, but in thetypical...">

  <link rel="shortcut icon" type="image/x-icon" href="/img/GT.ico">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://zipcpu.com/blog/2017/06/10/lost-college-student.html">
  <link rel="alternate" type="application/rss+xml" title="The ZipCPU by Gisselquist Technology" href="http://zipcpu.com/feed.xml">
</head>


  <body>

    <header class="site-header">
  <div id="banner">
  <a href="/"><picture>
    <img height=120 id="site-logo" src="/img/fullgqtech.png" alt="Gisselquist Technology, LLC">
  </picture></A>
  </div>

  <div class="site-nav">
<ul>

<li><a HREF="/">Main/Blog</a>


<li><a HREF="/about/">About Us</a>


<li><a HREF="/fpga-hell.html">FPGA Hell</a>


<li><a HREF="/projects.html">Projects</a>


<li><a HREF="/topics.html">Site Topics</a>

</ul>
</div>


</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">A College Student's Response to the FPGA Design Process</h1>
    <p class="post-meta"><time datetime="2017-06-10T00:00:00-04:00" itemprop="datePublished">Jun 10, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    I recently had the opportunity to help a college student on his end of term
project.  The student's project sounded like a lot of fun to me, but in the
typical end of term, typical college fashion, I'm not sure it was nearly as
much fun for him or his teammate.

When the term was over, I shared with him my [blog
post](/blog/2017/06/02/design-process.html),
describing the difference
between the student's design process, the expert's design process, and the
actual expert's design process, and then offered him a chance to respond now
that his term is over.

What follows is that he had to say, and then my own thoughts on his
comments.

## A College Student's Perspective

I really liked [your blog
post](/blog/2017/06/02/design-process.html), and I'd like to
respond to it with my own experience.

I've now finally finished the project, and handed in my final report.  

It is not
as professionally done as I might like, and it is likely that it may be
missing some desired info.  However, the main key point I want to bring out
is that *we should have spent more time
testbenching via simulation on Vivado and creating accurate testbenches, with
wait times and hold times similar to realistic button presses as well as
accounting for delay times between components in the FPGA, the
[keypad](http://store.digilentinc.com/pmod-kypd-16-button-keypad/),
and the
[LCD](http://store.digilentinc.com/pmodclp-character-lcd-with-parallel-interface/)*.
All of our testbenches were made very simply with a few hundred
nanosecond wait times at most and hold times of 25-50 ns. This is obviously
not very realistic in terms of how long a button stays pressed or how long
it might take for our [double dabble
algorithm](https://en.wikipedia.org/wiki/Double_dabble) to work. In simulation,
a [double dabble](https://en.wikipedia.org/wiki/Double_dabble)
will occur virtually instantly, but realistically has a much higher latency
when implemented into the board.

This was not accounted for in our testbenching nor during the design process,
which is something that I feel wasn't pushed hard enough by the curriculum,
but also might have just been common sense and didn't hit me until now. However,
judging by what you wrote in [your blog
post](/blog/2017/06/02/design-process.html), it seems
that creating proper
testbenches for each and every module doesn't happen often amongst students,
and I feel that *we are a good example of that, unfortunately*. This just goes
to show that if I had spent more time creating testbenches for the interfaces
and tried to figure out ways for the FPGA to tell me what's going on in all
that hardware, we might have had more success by the end of the project period.

It is interesting how you mention getting diagnostics from the FPGA because
no one ever provided details or instructions on how we should do so or what
are good methods on communicating with the FPGA and how to know what parts of
the FPGA we could use to figure out if intermediate steps are working as we
want.

I do feel a little scammed knowing that there were techniques out there that,
with just a couple minutes of explanation, might have saved me hours of
debugging. 
This makes me somewhat sad because I feel like I didn't get
the experience and fulfillment from the class that I wanted/needed just
because someone was too tired or didn't care to explain something to me.
This is what made me relate to [your blog post
post](/blog/2017/06/02/design-process.html)
where you mention in the beginning that the design
process for a student and a professional are almost two different worlds.

Of course, my instructor would emphasize making a
[block diagram](https://en.wikipedia.org/wiki/Block_diagram), then going
into a [state machine](httpw://en.wikipedia.org/wiki/Finite-state_machine) and
[datapath](https://en.wikipedia.org/wiki/Datapath) drawing,
then designing the VHDL code,
[testbenching](https://en.wikipedia.org/Test_bench), etc.
However, I feel like during homeworks, lectures, labs, and
the project period, the aid was almost a bit too lax and everytime
I asked for help on why this warning is popping up or why the output
wouldn't be showing on the
[LCD](http://store.digilentinc.com/pmodclp-character-lcd-with-parallel-interface/),
I would get: "hmmm ... I'm not too sure.  I haven't really dived
into how the
[LCD](http://store.digilentinc.com/pmodclp-character-lcd-with-parallel-interface/)
works" or "have you tried testbenching it" or "try telling the
FPGA to give you some info back so you know what's happening inside."
There was never any in-depth discussion or a 
fulfilling moment where I felt "wow!  Now, I know how to prevent/fix this
warning or error" or perhaps "Okay, I understand that I may have to adjust my
design in this way and keep this in mind for the future". Honestly, I felt
that I was winging it
the whole time.  It was frustrating.  Still, for some reason, I feel
like I still had fun with it. I had fun because it was challenging, it was not
easy, and every time I made a little bit of noticeable progress I felt like I
conquered the world. I just wish I didn't have to conquer the world by myself.

Enough of the slightly depressing monologue, the key lessons I learned were
these:

1. Make accurate testbenches for *everything* even the really simple and
   intuitive modules like
   [BCD](https://en.wikipedia.org/wiki/Binary-coded_decimal)
   to binary [converters](https://en.wikipedia.org/wiki/Double_dabble).

2. Account for timing delays in the board that pretty much never happen
   in the simulation

   [Editor's note: *You should test bench your entire design as well, not just
   the components.  This also would've helped find out what was going as
   the various components within the design interacted with each other.*]

3. The main issue I think we had was that we were sending the outputs from the
   [keypad](http://store.digilentinc.com/pmod-kypd-16-button-keypad/)
   to each module simultaneously, and it is likely that the later modules
   were trying to perform calculations or send outputs to the
   [LCD](http://store.digilentinc.com/pmodclp-character-lcd-with-parallel-interface/)
   before data values were even finished
   [converting](https://en.wikipedia.org/wiki/Double_dabble)
   from
   [BCD](https://en.wikipedia.org/wiki/Binary-coded_decimal)
   to binary in the very first
   module. Of course, it seems like this problem would fix itself after a few
   cycles, but it was probably not smart to literally not account for timing in
   the physical board.

4. Always ask for help from a close professional, professor, instructor, or
even the [friendly Digilent community](https://forum.digilentinc.com). It is
so hard to do complex projects on
your own, especially when you have no or extremely minimal programming/coding
experience (that's me).
Even if the instructor didn't seem interested, I feel
like I should've sucked it up and just asked for help more often.
My instructor was smart as hell and I still had
tons of things I definitely did not know how to do without some help.

5. A big thing in the [blog
post](/blog/2017/06/02/design-process.html)
is getting diagnostics and always retracing
steps. Sometimes the testbench isn't the problem, it's the design. For example,
[latches](https://forums.xilinx.com/t5/Implementation/why-latches-are-considered-bad/td-p/200291),
time loops, etc. can all be affected my design in ways that I don't
understand but are still making it not work the way I want. Pay attention to
warnings and don't dismiss anything until you get confirmation or find online
that the warning doesn't mean much.

## My Own Thoughts

Perhaps I might pull out of his response some key points worth taking away
from it.

> ... it also might've been just common sense and didn't hit me until now.

This is half of the point of any education: to get the student to learn how
to think about a task in such a way as to make the task simple.
I'm not talking about the mechanics of the task necessarily, but rather
how to wrap your mind around the task, so that your mind thinks in the
language of the task.  The means of achieving this enlightenment is usually
 to give the student one task after another until the student finally learn's
how to school his own mind.

This is also why an employer would be excited to see a large portfolio of
complex projects you have designed.  It means you understand how to *think*
like a digital designer.

> This makes me somewhat sad because I feel like I didn't get
> the experience and fulfillment from the class that I wanted/needed just
> because ...

I think you've now learned the lesson the class was trying to teach.  Next
time, let's see if we can't get that lesson across with a little less pain,
and a better grade.

> Everytime I asked for help on why this warning is popping up or why the output
> wouldn't be showing on the
> [LCD](http://store.digilentinc.com/pmodclp-character-lcd-with-parallel-interface/),
I would get:
> *"hmmm ... I'm not too sure. I haven't really dived into how the
> [LCD](http://store.digilentinc.com/pmodclp-character-lcd-with-parallel-interface/)
> works"*
> or
> *"have you tried testbenching it"*
> or
> *"try telling the FPGA to give you some info back so you know what's
> happening inside."*

If I were your instructor, these might be my responses as well.  If you write
into the [Xilinx forums](https://forums.xilinx.com), you are also likely to
get similar responses.

To understand why, think about it from the other side: I've now been a mentor
for many students.  I've looked over many pieces of code trying to find their
bugs.  While I find it a fun challenge, it's not easy.

Indeed, finding bugs in my own code is hard enough, finding bugs in someone
else's code is a lot harder.
It can take me between minutes and hours to find the mistake in someone else's
code, depending upon the complexity of the code.  (Debouncing
[keypad](http://store.digilentinc.com/pmod-kypd-16-button-keypad/)'s is
usually quick, debugging [FFT](https://github.com/ZipCPU/dblclockfft)'s is
hard.)

To make getting help easier, you must first find out what the issue is.
The instructor is right in this case, you need to tell "the FPGA to give you
some info back so you know what's happening inside."

That in itself is one of the ongoing topics of this blog.

Although it's a touch off topic: when I studied for my Ph.D., my advisor had
no background in my field (Digital signal processing as applied to digital
communications).  He couldn't help me with any of the details of how to do the
mechanics of my problem.  Originally, I would've thought that this would've
disqualified him from advising me.  In hindsight, I think it worked out to
everyone's advantage--because it forced me to finally learn how to
learn a topic for myself.  At some point, there's only so much an instructor
can do.

> There was never any in-depth discussion or a fulfilling moment where I felt
> "wow!  Now, I know how to prevent/fix this warning or error"
> or perhaps
> "Okay, I understand that I may have to adjust my design in this way
> and keep this in mind for the future".

I think our student has now just had his aha moment--only he may not realize
it yet.

Stick around.  This is what we are going to try to do here on this blog:
explain what it takes to keep you from getting stuck in the future!

> It was frustrating. 

[FPGA Hell](/fpga-hell.html) is *always* frustrating.  Let's
get you out of [FPGA Hell](/fpga-hell.html), so that you can
enjoy winging it like the rest of us.

> I had fun because it was challenging, it was not easy, and every time
> I made a little bit of noticeable progress I felt like I conquered the world.

This is one of my own personal reasons for doing digital design. 

Can I share a secret with you all?  I keep a copy of the
[theme from Superman](https://www.youtube.com/watch?v=78N2SP6JFaI) lying around,
just to be able to share the excitement of success with the others in the
office.  I've even bought copies of the theme from [Indiana
Jones](https://www.youtube.com/watch?v=IgncJgSbbck), from [Star
Wars](https://www.youtube.com/watch?v=4rQSJDLM8ZE), and ... I'd better
just stop there.



  </div>

</article>


<div id="disqus_thread"></div>
<script>
var disqus_config=function(){
  this.page.url="http://zipcpu.com/blog/2017/06/10/lost-college-student.html";
  this.page.identifier="/blog/2017/06/10/lost-college-student";
};
(function(){
	var d=document, s=d.createElement('script');
	s.src = 'https://zipcpu-com.disqus.com/embed.js';
	s.setAttribute('data-timestamp',+new Date());
	(d.head||d.body).appendChild(s);
	})();
</script>
<noscript>Please enable JavaScript to view the <A HREF="https://disqus.com/?ref_noscript">comments powered by Disqus.</A></noscript>



      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">The ZipCPU by Gisselquist Technology</h2>
    
    <em>He that doeth truth cometh to the light, that his deeds may be made mnifest, that they are wrought in God. (John 3:21)</em>
    

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <!-- <li></li> -->
          <li><a href="mailto:zipcpu@gmail.com">zipcpu@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/ZipCPU"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">ZipCPU</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/zipcpu"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">zipcpu</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>The ZipCPU blog, featuring how to discussions of FPGA and CPU design. This site will be focused on Verilog solutions, using exclusively OpenSource IP products for FPGA design.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
